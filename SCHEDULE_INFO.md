# 更新计划说明

## 自动更新时间

系统配置为每天早上 8:00 (UTC+8 北京时间) 自动更新一次。

### Cron 表达式说明

```
0 0 * * *
│ │ │ │ │
│ │ │ │ └─ 星期几 (0-7, 0和7都代表周日)
│ │ │ └─── 月份 (1-12)
│ │ └───── 日期 (1-31)
│ └─────── 小时 (0-23, UTC时间)
└───────── 分钟 (0-59)
```

当前配置：`0 0 * * *`
- 表示：每天 UTC 00:00 执行
- 对应北京时间：每天早上 8:00

## 数据保留期限

当前配置：保留最近 **7天** 的消息

这意味着：
- 只显示过去7天内发布的内容
- 超过7天的旧消息会被自动过滤
- 每次更新时会重新抓取并过滤数据

## 修改配置

如需修改更新时间或保留期限，编辑 `config.js` 文件：

```javascript
// 修改更新时间
updateInterval: '0 0 * * *',  // 每天 UTC 00:00 (北京时间 8:00)

// 修改数据保留天数
dataRetentionDays: 7  // 保留7天
```

### 常用 Cron 时间示例

```
0 0 * * *     # 每天 UTC 00:00 (北京时间 8:00)
0 12 * * *    # 每天 UTC 12:00 (北京时间 20:00)
0 */6 * * *   # 每6小时一次
0 0,12 * * *  # 每天 00:00 和 12:00
0 0 * * 1     # 每周一 00:00
```

### 数据保留期限建议

- **7天**：适合快速更新的行业，关注最新动态
- **14天**：平衡新旧内容
- **30天**：保留更多历史信息，便于回顾

## 手动更新

除了自动更新，你也可以：
1. 在网页上点击"刷新动态"按钮
2. 重启服务（会立即执行一次更新）
3. 运行命令：`node scripts/fetchData.js`

## 注意事项

1. 服务器需要保持运行才能执行定时任务
2. 如果使用 PM2 等进程管理工具，重启后定时任务会自动恢复
3. 首次启动时会立即执行一次数据抓取
4. 数据保存在 `data/competitors.json` 文件中
